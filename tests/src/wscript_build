# loop over all *.c filenames in tests/src to build them all
# target name is filename.c without the .c
for target_name in bld.path.ant_glob('*.c').split():
  this_target = bld.new_task_gen(
      features = 'cprogram cc', # test',
      includes = '../../src',
      uselib_local = 'aubio',
      unit_test = 1,
      source = target_name,
      target = target_name.split('.')[0],
      install_path = None)
  if target_name == 'test-phasevoc-jack.c':
    this_target.includes = '../../src ../../ext'
    this_target.uselib_local = ['aubio', 'aubioext']
